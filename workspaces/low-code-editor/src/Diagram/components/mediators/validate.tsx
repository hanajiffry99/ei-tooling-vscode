/**
 * Copyright (c) 2023, WSO2 LLC. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 */

import React from "react";
import { getComponent } from "../../util";
import { WorkerLine } from "../worker-line";
import { Circle, Square } from "@wso2-ei/low-code-diagram";

interface SquareProps {
  model: Square;
}

export function Validate(props: SquareProps) {
  const { model } = props;

  const viewState = model.viewState;

  const components: JSX.Element[] = [];

  model.children.forEach((child) => {
    components.push(getComponent(child.tag, { model: child }));
  });

  return (
    <>
      <svg
        x={viewState.bBox.x}
        y={viewState.bBox.y}
        width={viewState.bBox.w}
        height={viewState.bBox.h}
        viewBox="0 0 800 600"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <rect width="800" height="600" fill="#1E1E1E" />
        <rect id="Rectangle 2" width="800" height="600" fill="#C0C0C0" />
        <path id="Rectangle 1" d="M10 10H430V590H10V10Z" fill="#357B51" />
        <rect
          id="Rectangle 3"
          x="480"
          y="10"
          width="310"
          height="580"
          fill="#A9A9A9"
        />
        <path
          id="Polygon 1"
          d="M468 299.5L439.5 335.44V263.56L468 299.5Z"
          fill="#71797E"
        />
        <path
          id="Validate"
          d="M136.784 501.909L143.815 524.011H144.085L151.131 501.909H157.949L147.92 531H139.994L129.952 501.909H136.784ZM165.136 531.412C163.744 531.412 162.504 531.17 161.415 530.688C160.326 530.195 159.464 529.471 158.83 528.514C158.205 527.548 157.892 526.346 157.892 524.906C157.892 523.694 158.115 522.676 158.56 521.852C159.005 521.028 159.611 520.366 160.378 519.864C161.145 519.362 162.016 518.983 162.991 518.727C163.976 518.472 165.009 518.292 166.088 518.188C167.357 518.055 168.38 517.932 169.156 517.818C169.933 517.695 170.496 517.515 170.847 517.278C171.197 517.042 171.372 516.691 171.372 516.227V516.142C171.372 515.242 171.088 514.546 170.52 514.054C169.961 513.562 169.166 513.315 168.134 513.315C167.045 513.315 166.178 513.557 165.534 514.04C164.89 514.513 164.464 515.11 164.256 515.83L158.659 515.375C158.943 514.049 159.502 512.903 160.335 511.938C161.169 510.962 162.243 510.214 163.56 509.693C164.885 509.163 166.42 508.898 168.162 508.898C169.374 508.898 170.534 509.04 171.642 509.324C172.759 509.608 173.749 510.048 174.611 510.645C175.482 511.241 176.169 512.009 176.67 512.946C177.172 513.874 177.423 514.987 177.423 516.284V531H171.685V527.974H171.514C171.164 528.656 170.695 529.258 170.108 529.778C169.521 530.29 168.815 530.692 167.991 530.986C167.168 531.27 166.216 531.412 165.136 531.412ZM166.869 527.236C167.759 527.236 168.545 527.061 169.227 526.71C169.909 526.35 170.444 525.867 170.832 525.261C171.221 524.655 171.415 523.969 171.415 523.202V520.886C171.225 521.009 170.965 521.123 170.634 521.227C170.312 521.322 169.947 521.412 169.54 521.497C169.133 521.573 168.725 521.644 168.318 521.71C167.911 521.767 167.542 521.819 167.21 521.866C166.5 521.971 165.88 522.136 165.349 522.364C164.819 522.591 164.407 522.899 164.114 523.287C163.82 523.666 163.673 524.139 163.673 524.707C163.673 525.531 163.972 526.161 164.568 526.597C165.174 527.023 165.941 527.236 166.869 527.236ZM188.169 501.909V531H182.118V501.909H188.169ZM193.016 531V509.182H199.067V531H193.016ZM196.056 506.369C195.156 506.369 194.385 506.071 193.741 505.474C193.106 504.868 192.789 504.144 192.789 503.301C192.789 502.468 193.106 501.753 193.741 501.156C194.385 500.55 195.156 500.247 196.056 500.247C196.956 500.247 197.723 500.55 198.357 501.156C199.001 501.753 199.323 502.468 199.323 503.301C199.323 504.144 199.001 504.868 198.357 505.474C197.723 506.071 196.956 506.369 196.056 506.369ZM211.955 531.355C210.297 531.355 208.796 530.929 207.452 530.077C206.116 529.215 205.056 527.951 204.27 526.284C203.493 524.608 203.105 522.553 203.105 520.119C203.105 517.619 203.508 515.541 204.312 513.884C205.117 512.217 206.188 510.972 207.523 510.148C208.867 509.314 210.34 508.898 211.94 508.898C213.162 508.898 214.18 509.106 214.994 509.523C215.818 509.93 216.481 510.441 216.983 511.057C217.494 511.663 217.883 512.259 218.148 512.847H218.332V501.909H224.369V531H218.403V527.506H218.148C217.864 528.112 217.461 528.713 216.94 529.31C216.429 529.897 215.761 530.384 214.938 530.773C214.123 531.161 213.129 531.355 211.955 531.355ZM213.872 526.54C214.848 526.54 215.671 526.275 216.344 525.744C217.026 525.205 217.546 524.452 217.906 523.486C218.276 522.52 218.46 521.388 218.46 520.091C218.46 518.794 218.28 517.667 217.92 516.71C217.561 515.754 217.04 515.015 216.358 514.494C215.676 513.973 214.848 513.713 213.872 513.713C212.878 513.713 212.04 513.983 211.358 514.523C210.676 515.062 210.16 515.811 209.81 516.767C209.459 517.723 209.284 518.831 209.284 520.091C209.284 521.36 209.459 522.482 209.81 523.457C210.17 524.423 210.686 525.181 211.358 525.73C212.04 526.27 212.878 526.54 213.872 526.54ZM235.566 531.412C234.174 531.412 232.933 531.17 231.844 530.688C230.755 530.195 229.894 529.471 229.259 528.514C228.634 527.548 228.322 526.346 228.322 524.906C228.322 523.694 228.544 522.676 228.989 521.852C229.434 521.028 230.04 520.366 230.808 519.864C231.575 519.362 232.446 518.983 233.421 518.727C234.406 518.472 235.438 518.292 236.518 518.188C237.787 518.055 238.809 517.932 239.586 517.818C240.362 517.695 240.926 517.515 241.276 517.278C241.627 517.042 241.802 516.691 241.802 516.227V516.142C241.802 515.242 241.518 514.546 240.95 514.054C240.391 513.562 239.595 513.315 238.563 513.315C237.474 513.315 236.608 513.557 235.964 514.04C235.32 514.513 234.894 515.11 234.685 515.83L229.089 515.375C229.373 514.049 229.932 512.903 230.765 511.938C231.598 510.962 232.673 510.214 233.989 509.693C235.315 509.163 236.849 508.898 238.592 508.898C239.804 508.898 240.964 509.04 242.072 509.324C243.189 509.608 244.179 510.048 245.04 510.645C245.912 511.241 246.598 512.009 247.1 512.946C247.602 513.874 247.853 514.987 247.853 516.284V531H242.114V527.974H241.944C241.594 528.656 241.125 529.258 240.538 529.778C239.951 530.29 239.245 530.692 238.421 530.986C237.597 531.27 236.646 531.412 235.566 531.412ZM237.299 527.236C238.189 527.236 238.975 527.061 239.657 526.71C240.339 526.35 240.874 525.867 241.262 525.261C241.65 524.655 241.844 523.969 241.844 523.202V520.886C241.655 521.009 241.395 521.123 241.063 521.227C240.741 521.322 240.377 521.412 239.969 521.497C239.562 521.573 239.155 521.644 238.748 521.71C238.341 521.767 237.971 521.819 237.64 521.866C236.93 521.971 236.309 522.136 235.779 522.364C235.249 522.591 234.837 522.899 234.543 523.287C234.25 523.666 234.103 524.139 234.103 524.707C234.103 525.531 234.401 526.161 234.998 526.597C235.604 527.023 236.371 527.236 237.299 527.236ZM264.153 509.182V513.727H251.013V509.182H264.153ZM253.996 503.955H260.048V524.295C260.048 524.854 260.133 525.29 260.303 525.602C260.474 525.905 260.71 526.118 261.013 526.241C261.326 526.365 261.686 526.426 262.093 526.426C262.377 526.426 262.661 526.402 262.945 526.355C263.229 526.298 263.447 526.256 263.599 526.227L264.55 530.73C264.247 530.825 263.821 530.934 263.272 531.057C262.723 531.189 262.055 531.27 261.269 531.298C259.811 531.355 258.532 531.161 257.434 530.716C256.345 530.271 255.497 529.58 254.891 528.642C254.285 527.705 253.987 526.521 253.996 525.091V503.955ZM277.803 531.426C275.559 531.426 273.627 530.972 272.008 530.062C270.398 529.144 269.157 527.847 268.286 526.17C267.415 524.485 266.979 522.491 266.979 520.19C266.979 517.946 267.415 515.976 268.286 514.281C269.157 512.586 270.384 511.265 271.965 510.318C273.556 509.371 275.422 508.898 277.562 508.898C279.001 508.898 280.341 509.13 281.582 509.594C282.832 510.048 283.921 510.735 284.849 511.653C285.786 512.572 286.515 513.727 287.036 515.119C287.557 516.502 287.817 518.121 287.817 519.977V521.639H269.394V517.889H282.121C282.121 517.018 281.932 516.246 281.553 515.574C281.174 514.902 280.649 514.376 279.977 513.997C279.314 513.609 278.542 513.415 277.661 513.415C276.743 513.415 275.928 513.628 275.218 514.054C274.517 514.471 273.968 515.034 273.57 515.744C273.173 516.445 272.969 517.226 272.96 518.088V521.653C272.96 522.733 273.158 523.666 273.556 524.452C273.963 525.238 274.536 525.844 275.275 526.27C276.013 526.696 276.889 526.909 277.903 526.909C278.575 526.909 279.191 526.814 279.749 526.625C280.308 526.436 280.786 526.152 281.184 525.773C281.582 525.394 281.885 524.93 282.093 524.381L287.69 524.75C287.406 526.095 286.823 527.269 285.942 528.273C285.071 529.267 283.944 530.044 282.562 530.602C281.189 531.152 279.603 531.426 277.803 531.426Z"
          fill="white"
        />
        <rect
          id="Rectangle 6"
          x="51"
          y="164"
          width="339"
          height="188"
          rx="37"
          fill="#357B51"
          stroke="white"
          stroke-width="6"
        />
        <g id="Group 1">
          <path
            id="Vector"
            d="M103.024 198C92.0109 198 83 207.955 83 220.122C83 232.289 92.0109 242.244 103.024 242.244C114.038 242.244 123.049 232.289 123.049 220.122C123.049 207.955 114.038 198 103.024 198ZM99.0194 231.183L89.0073 220.122L91.8307 217.003L99.0194 224.922L114.218 208.132L117.041 211.273L99.0194 231.183Z"
            fill="white"
          />
          <rect
            id="Rectangle 4"
            x="144.408"
            y="198"
            width="213.592"
            height="44.2439"
            rx="22.1219"
            fill="white"
          />
          <rect
            id="Rectangle 5"
            x="144.408"
            y="273.017"
            width="213.592"
            height="44.2439"
            rx="22.1219"
            fill="white"
          />
          <path
            id="Vector_2"
            d="M97.017 284.078L101.022 295.139L97.017 306.2H101.022L103.024 300.669L105.027 306.2H109.032L105.027 295.139L109.032 284.078H105.027L103.024 289.608L101.022 284.078H97.017ZM103.024 273.017C105.654 273.017 108.258 273.589 110.687 274.701C113.117 275.813 115.324 277.442 117.184 279.496C119.043 281.551 120.518 283.989 121.524 286.673C122.531 289.357 123.049 292.234 123.049 295.139C123.049 301.006 120.939 306.633 117.184 310.781C113.428 314.93 108.335 317.261 103.024 317.261C100.395 317.261 97.7908 316.689 95.3613 315.577C92.9319 314.465 90.7244 312.836 88.865 310.781C85.1097 306.633 83 301.006 83 295.139C83 289.272 85.1097 283.645 88.865 279.496C92.6203 275.348 97.7135 273.017 103.024 273.017Z"
            fill="white"
          />
        </g>
      </svg>

      <WorkerLine model={model} />
      {components}
    </>
  );
}
