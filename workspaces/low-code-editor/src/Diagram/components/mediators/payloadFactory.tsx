/**
 * Copyright (c) 2023, WSO2 LLC. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 */

import React from "react";
import { Circle } from "@wso2-ei/low-code-diagram";
import { getComponent } from "../../util";
import { WorkerLine } from "../worker-line";

interface SquareProps {
  model: Circle;
}

export function PayloadFactory(props: SquareProps) {
  const { model } = props;

  const viewState = model.viewState;
  const components: JSX.Element[] = [];

  model.children.forEach((child) => {
    components.push(getComponent(child.type, { model: child }));
  });

  return (
    <>
      <svg
        x={viewState.bBox.x}
        y={viewState.bBox.y}
        width={viewState.bBox.r * 2}
        height={viewState.bBox.r * 2}
        viewBox="0 0 600 600"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle cx="300" cy="300" r="300" fill="#644A9B" />
        <path
          d="M156.528 502V472.909H168.006C170.212 472.909 172.092 473.33 173.645 474.173C175.198 475.007 176.382 476.167 177.196 477.653C178.02 479.131 178.432 480.835 178.432 482.767C178.432 484.699 178.015 486.403 177.182 487.881C176.348 489.358 175.141 490.509 173.56 491.332C171.988 492.156 170.084 492.568 167.849 492.568H160.534V487.639H166.855C168.039 487.639 169.014 487.436 169.781 487.028C170.558 486.612 171.135 486.039 171.514 485.31C171.902 484.571 172.097 483.723 172.097 482.767C172.097 481.801 171.902 480.958 171.514 480.239C171.135 479.509 170.558 478.946 169.781 478.548C169.005 478.141 168.02 477.938 166.827 477.938H162.679V502H156.528ZM187.949 502.412C186.557 502.412 185.316 502.17 184.227 501.688C183.138 501.195 182.277 500.471 181.642 499.514C181.017 498.548 180.705 497.346 180.705 495.906C180.705 494.694 180.927 493.676 181.372 492.852C181.817 492.028 182.423 491.366 183.19 490.864C183.957 490.362 184.829 489.983 185.804 489.727C186.789 489.472 187.821 489.292 188.901 489.188C190.17 489.055 191.192 488.932 191.969 488.818C192.745 488.695 193.309 488.515 193.659 488.278C194.009 488.042 194.185 487.691 194.185 487.227V487.142C194.185 486.242 193.901 485.546 193.332 485.054C192.774 484.562 191.978 484.315 190.946 484.315C189.857 484.315 188.991 484.557 188.347 485.04C187.703 485.513 187.277 486.11 187.068 486.83L181.472 486.375C181.756 485.049 182.314 483.903 183.148 482.938C183.981 481.962 185.056 481.214 186.372 480.693C187.698 480.163 189.232 479.898 190.974 479.898C192.187 479.898 193.347 480.04 194.455 480.324C195.572 480.608 196.562 481.048 197.423 481.645C198.295 482.241 198.981 483.009 199.483 483.946C199.985 484.874 200.236 485.987 200.236 487.284V502H194.497V498.974H194.327C193.976 499.656 193.508 500.258 192.92 500.778C192.333 501.29 191.628 501.692 190.804 501.986C189.98 502.27 189.028 502.412 187.949 502.412ZM189.682 498.236C190.572 498.236 191.358 498.061 192.04 497.71C192.722 497.35 193.257 496.867 193.645 496.261C194.033 495.655 194.227 494.969 194.227 494.202V491.886C194.038 492.009 193.777 492.123 193.446 492.227C193.124 492.322 192.759 492.412 192.352 492.497C191.945 492.573 191.538 492.644 191.131 492.71C190.723 492.767 190.354 492.819 190.023 492.866C189.313 492.971 188.692 493.136 188.162 493.364C187.632 493.591 187.22 493.899 186.926 494.287C186.633 494.666 186.486 495.139 186.486 495.707C186.486 496.531 186.784 497.161 187.381 497.597C187.987 498.023 188.754 498.236 189.682 498.236ZM207.885 510.182C207.118 510.182 206.398 510.12 205.726 509.997C205.063 509.884 204.514 509.737 204.078 509.557L205.442 505.04C206.152 505.258 206.791 505.376 207.359 505.395C207.937 505.414 208.434 505.281 208.851 504.997C209.277 504.713 209.623 504.23 209.888 503.548L210.243 502.625L202.416 480.182H208.78L213.297 496.205H213.524L218.084 480.182H224.49L216.01 504.358C215.603 505.532 215.049 506.555 214.348 507.426C213.657 508.307 212.781 508.984 211.72 509.457C210.66 509.94 209.381 510.182 207.885 510.182ZM233.638 472.909V502H227.587V472.909H233.638ZM248.343 502.426C246.137 502.426 244.228 501.957 242.619 501.02C241.018 500.073 239.782 498.757 238.911 497.071C238.04 495.376 237.604 493.411 237.604 491.176C237.604 488.922 238.04 486.953 238.911 485.267C239.782 483.572 241.018 482.256 242.619 481.318C244.228 480.371 246.137 479.898 248.343 479.898C250.549 479.898 252.453 480.371 254.053 481.318C255.663 482.256 256.904 483.572 257.775 485.267C258.646 486.953 259.082 488.922 259.082 491.176C259.082 493.411 258.646 495.376 257.775 497.071C256.904 498.757 255.663 500.073 254.053 501.02C252.453 501.957 250.549 502.426 248.343 502.426ZM248.371 497.739C249.375 497.739 250.213 497.455 250.886 496.886C251.558 496.309 252.065 495.523 252.406 494.528C252.756 493.534 252.931 492.402 252.931 491.134C252.931 489.865 252.756 488.733 252.406 487.739C252.065 486.744 251.558 485.958 250.886 485.381C250.213 484.803 249.375 484.514 248.371 484.514C247.358 484.514 246.506 484.803 245.815 485.381C245.133 485.958 244.617 486.744 244.266 487.739C243.925 488.733 243.755 489.865 243.755 491.134C243.755 492.402 243.925 493.534 244.266 494.528C244.617 495.523 245.133 496.309 245.815 496.886C246.506 497.455 247.358 497.739 248.371 497.739ZM269.238 502.412C267.846 502.412 266.605 502.17 265.516 501.688C264.427 501.195 263.566 500.471 262.931 499.514C262.306 498.548 261.994 497.346 261.994 495.906C261.994 494.694 262.216 493.676 262.661 492.852C263.106 492.028 263.712 491.366 264.479 490.864C265.246 490.362 266.118 489.983 267.093 489.727C268.078 489.472 269.11 489.292 270.19 489.188C271.459 489.055 272.481 488.932 273.258 488.818C274.034 488.695 274.598 488.515 274.948 488.278C275.299 488.042 275.474 487.691 275.474 487.227V487.142C275.474 486.242 275.19 485.546 274.621 485.054C274.063 484.562 273.267 484.315 272.235 484.315C271.146 484.315 270.28 484.557 269.636 485.04C268.992 485.513 268.566 486.11 268.357 486.83L262.761 486.375C263.045 485.049 263.603 483.903 264.437 482.938C265.27 481.962 266.345 481.214 267.661 480.693C268.987 480.163 270.521 479.898 272.263 479.898C273.476 479.898 274.636 480.04 275.744 480.324C276.861 480.608 277.851 481.048 278.712 481.645C279.584 482.241 280.27 483.009 280.772 483.946C281.274 484.874 281.525 485.987 281.525 487.284V502H275.786V498.974H275.616C275.265 499.656 274.797 500.258 274.21 500.778C273.622 501.29 272.917 501.692 272.093 501.986C271.269 502.27 270.317 502.412 269.238 502.412ZM270.971 498.236C271.861 498.236 272.647 498.061 273.329 497.71C274.011 497.35 274.546 496.867 274.934 496.261C275.322 495.655 275.516 494.969 275.516 494.202V491.886C275.327 492.009 275.067 492.123 274.735 492.227C274.413 492.322 274.049 492.412 273.641 492.497C273.234 492.573 272.827 492.644 272.42 492.71C272.013 492.767 271.643 492.819 271.312 492.866C270.602 492.971 269.981 493.136 269.451 493.364C268.921 493.591 268.509 493.899 268.215 494.287C267.922 494.666 267.775 495.139 267.775 495.707C267.775 496.531 268.073 497.161 268.67 497.597C269.276 498.023 270.043 498.236 270.971 498.236ZM294.259 502.355C292.602 502.355 291.101 501.929 289.756 501.077C288.421 500.215 287.361 498.951 286.575 497.284C285.798 495.608 285.41 493.553 285.41 491.119C285.41 488.619 285.812 486.541 286.617 484.884C287.422 483.217 288.492 481.972 289.827 481.148C291.172 480.314 292.645 479.898 294.245 479.898C295.467 479.898 296.485 480.106 297.299 480.523C298.123 480.93 298.786 481.441 299.288 482.057C299.799 482.663 300.187 483.259 300.452 483.847H300.637V472.909H306.674V502H300.708V498.506H300.452C300.168 499.112 299.766 499.713 299.245 500.31C298.734 500.897 298.066 501.384 297.242 501.773C296.428 502.161 295.433 502.355 294.259 502.355ZM296.177 497.54C297.152 497.54 297.976 497.275 298.648 496.744C299.33 496.205 299.851 495.452 300.211 494.486C300.58 493.52 300.765 492.388 300.765 491.091C300.765 489.794 300.585 488.667 300.225 487.71C299.865 486.754 299.344 486.015 298.663 485.494C297.981 484.973 297.152 484.713 296.177 484.713C295.183 484.713 294.344 484.983 293.663 485.523C292.981 486.062 292.465 486.811 292.114 487.767C291.764 488.723 291.589 489.831 291.589 491.091C291.589 492.36 291.764 493.482 292.114 494.457C292.474 495.423 292.99 496.181 293.663 496.73C294.344 497.27 295.183 497.54 296.177 497.54ZM311.763 502V472.909H331.024V477.98H317.913V484.912H329.746V489.983H317.913V502H311.763ZM340.996 502.412C339.604 502.412 338.363 502.17 337.274 501.688C336.185 501.195 335.323 500.471 334.689 499.514C334.064 498.548 333.751 497.346 333.751 495.906C333.751 494.694 333.974 493.676 334.419 492.852C334.864 492.028 335.47 491.366 336.237 490.864C337.004 490.362 337.875 489.983 338.851 489.727C339.836 489.472 340.868 489.292 341.947 489.188C343.216 489.055 344.239 488.932 345.016 488.818C345.792 488.695 346.356 488.515 346.706 488.278C347.056 488.042 347.232 487.691 347.232 487.227V487.142C347.232 486.242 346.947 485.546 346.379 485.054C345.821 484.562 345.025 484.315 343.993 484.315C342.904 484.315 342.037 484.557 341.393 485.04C340.75 485.513 340.323 486.11 340.115 486.83L334.518 486.375C334.803 485.049 335.361 483.903 336.195 482.938C337.028 481.962 338.103 481.214 339.419 480.693C340.745 480.163 342.279 479.898 344.021 479.898C345.233 479.898 346.393 480.04 347.501 480.324C348.619 480.608 349.608 481.048 350.47 481.645C351.341 482.241 352.028 483.009 352.53 483.946C353.032 484.874 353.283 485.987 353.283 487.284V502H347.544V498.974H347.374C347.023 499.656 346.554 500.258 345.967 500.778C345.38 501.29 344.675 501.692 343.851 501.986C343.027 502.27 342.075 502.412 340.996 502.412ZM342.729 498.236C343.619 498.236 344.405 498.061 345.087 497.71C345.768 497.35 346.304 496.867 346.692 496.261C347.08 495.655 347.274 494.969 347.274 494.202V491.886C347.085 492.009 346.824 492.123 346.493 492.227C346.171 492.322 345.806 492.412 345.399 492.497C344.992 492.573 344.585 492.644 344.178 492.71C343.77 492.767 343.401 492.819 343.07 492.866C342.359 492.971 341.739 493.136 341.209 493.364C340.679 493.591 340.267 493.899 339.973 494.287C339.679 494.666 339.533 495.139 339.533 495.707C339.533 496.531 339.831 497.161 340.428 497.597C341.034 498.023 341.801 498.236 342.729 498.236ZM367.835 502.426C365.6 502.426 363.678 501.953 362.068 501.006C360.468 500.049 359.237 498.723 358.375 497.028C357.523 495.333 357.097 493.383 357.097 491.176C357.097 488.941 357.527 486.981 358.389 485.295C359.26 483.6 360.496 482.279 362.097 481.332C363.697 480.376 365.6 479.898 367.807 479.898C369.71 479.898 371.377 480.243 372.807 480.935C374.237 481.626 375.368 482.597 376.202 483.847C377.035 485.097 377.494 486.564 377.58 488.25H371.869C371.708 487.161 371.282 486.285 370.591 485.622C369.909 484.95 369.014 484.614 367.906 484.614C366.969 484.614 366.15 484.869 365.449 485.381C364.758 485.883 364.218 486.616 363.83 487.582C363.441 488.548 363.247 489.718 363.247 491.091C363.247 492.483 363.437 493.667 363.815 494.642C364.204 495.617 364.748 496.361 365.449 496.872C366.15 497.384 366.969 497.639 367.906 497.639C368.598 497.639 369.218 497.497 369.767 497.213C370.326 496.929 370.785 496.517 371.145 495.977C371.514 495.428 371.756 494.77 371.869 494.003H377.58C377.485 495.67 377.03 497.137 376.216 498.406C375.411 499.666 374.298 500.651 372.878 501.361C371.457 502.071 369.777 502.426 367.835 502.426ZM393.059 480.182V484.727H379.92V480.182H393.059ZM382.903 474.955H388.954V495.295C388.954 495.854 389.039 496.29 389.21 496.602C389.38 496.905 389.617 497.118 389.92 497.241C390.232 497.365 390.592 497.426 390.999 497.426C391.283 497.426 391.567 497.402 391.852 497.355C392.136 497.298 392.353 497.256 392.505 497.227L393.457 501.73C393.154 501.825 392.728 501.934 392.178 502.057C391.629 502.189 390.961 502.27 390.175 502.298C388.717 502.355 387.439 502.161 386.34 501.716C385.251 501.271 384.404 500.58 383.798 499.642C383.192 498.705 382.893 497.521 382.903 496.091V474.955ZM406.624 502.426C404.418 502.426 402.51 501.957 400.9 501.02C399.299 500.073 398.064 498.757 397.192 497.071C396.321 495.376 395.886 493.411 395.886 491.176C395.886 488.922 396.321 486.953 397.192 485.267C398.064 483.572 399.299 482.256 400.9 481.318C402.51 480.371 404.418 479.898 406.624 479.898C408.831 479.898 410.734 480.371 412.335 481.318C413.944 482.256 415.185 483.572 416.056 485.267C416.927 486.953 417.363 488.922 417.363 491.176C417.363 493.411 416.927 495.376 416.056 497.071C415.185 498.757 413.944 500.073 412.335 501.02C410.734 501.957 408.831 502.426 406.624 502.426ZM406.653 497.739C407.656 497.739 408.495 497.455 409.167 496.886C409.839 496.309 410.346 495.523 410.687 494.528C411.037 493.534 411.212 492.402 411.212 491.134C411.212 489.865 411.037 488.733 410.687 487.739C410.346 486.744 409.839 485.958 409.167 485.381C408.495 484.803 407.656 484.514 406.653 484.514C405.639 484.514 404.787 484.803 404.096 485.381C403.414 485.958 402.898 486.744 402.548 487.739C402.207 488.733 402.036 489.865 402.036 491.134C402.036 492.402 402.207 493.534 402.548 494.528C402.898 495.523 403.414 496.309 404.096 496.886C404.787 497.455 405.639 497.739 406.653 497.739ZM421.298 502V480.182H427.164V483.989H427.391C427.789 482.634 428.457 481.612 429.394 480.92C430.332 480.22 431.411 479.869 432.633 479.869C432.936 479.869 433.263 479.888 433.613 479.926C433.963 479.964 434.271 480.016 434.536 480.082V485.452C434.252 485.366 433.859 485.291 433.357 485.224C432.855 485.158 432.396 485.125 431.979 485.125C431.089 485.125 430.294 485.319 429.593 485.707C428.902 486.086 428.353 486.616 427.945 487.298C427.548 487.98 427.349 488.766 427.349 489.656V502H421.298ZM442.065 510.182C441.298 510.182 440.578 510.12 439.906 509.997C439.243 509.884 438.693 509.737 438.258 509.557L439.621 505.04C440.332 505.258 440.971 505.376 441.539 505.395C442.117 505.414 442.614 505.281 443.031 504.997C443.457 504.713 443.802 504.23 444.067 503.548L444.423 502.625L436.596 480.182H442.96L447.477 496.205H447.704L452.263 480.182H458.67L450.19 504.358C449.782 505.532 449.228 506.555 448.528 507.426C447.836 508.307 446.96 508.984 445.9 509.457C444.839 509.94 443.561 510.182 442.065 510.182Z"
          fill="white"
        />
        <path
          d="M234.302 235.206V196.341H165.694L285.758 151L405.822 196.341H337.214V235.206H234.302ZM165.694 261.115V248.16H405.822V261.115H165.694ZM405.822 274.07H165.694V287.024H405.822V274.07Z"
          fill="white"
        />
        <rect
          x="165"
          y="302.39"
          width="237.822"
          height="79.6098"
          rx="7"
          fill="#644A9B"
          stroke="white"
          stroke-width="6"
        />
        <ellipse
          cx="396.586"
          cy="268"
          rx="55.414"
          ry="57.0732"
          fill="#644A9B"
        />
        <path
          d="M447.382 268C447.382 281.875 442.03 295.182 432.504 304.994C422.978 314.805 410.058 320.317 396.586 320.317C389.915 320.317 383.31 318.964 377.147 316.335C370.984 313.705 365.385 309.852 360.668 304.994C351.142 295.182 345.79 281.875 345.79 268C345.79 254.125 351.142 240.818 360.668 231.006C370.194 221.195 383.114 215.683 396.586 215.683C403.257 215.683 409.862 217.036 416.025 219.665C422.188 222.295 427.787 226.148 432.504 231.006C437.221 235.864 440.963 241.632 443.516 247.979C446.068 254.327 447.382 261.13 447.382 268ZM366.108 273.232H406.745L388.967 291.543L396.18 298.972L426.251 268L396.18 237.028L388.967 244.457L406.745 262.768H366.108V273.232Z"
          fill="white"
        />
        <path
          d="M205.408 344.098H198.019V351.707H194.325V344.098H186.936V340.293H194.325V332.683H198.019V340.293H205.408M196.172 323.171C193.746 323.171 191.344 323.663 189.103 324.619C186.862 325.575 184.826 326.976 183.111 328.743C179.647 332.311 177.701 337.15 177.701 342.195C177.701 347.241 179.647 352.08 183.111 355.647C184.826 357.414 186.862 358.815 189.103 359.771C191.344 360.727 193.746 361.22 196.172 361.22C201.071 361.22 205.769 359.215 209.233 355.647C212.697 352.08 214.643 347.241 214.643 342.195C214.643 339.697 214.166 337.223 213.237 334.915C212.309 332.607 210.948 330.509 209.233 328.743C207.518 326.976 205.482 325.575 203.241 324.619C201 323.663 198.598 323.171 196.172 323.171Z"
          fill="white"
        />
        <path
          d="M262.669 344.098H255.28V351.707H251.586V344.098H244.197V340.293H251.586V332.683H255.28V340.293H262.669M253.433 323.171C251.007 323.171 248.605 323.663 246.364 324.619C244.123 325.575 242.087 326.976 240.372 328.743C236.908 332.311 234.962 337.15 234.962 342.195C234.962 347.241 236.908 352.08 240.372 355.647C242.087 357.414 244.123 358.815 246.364 359.771C248.605 360.727 251.007 361.22 253.433 361.22C258.332 361.22 263.03 359.215 266.494 355.647C269.958 352.08 271.904 347.241 271.904 342.195C271.904 339.697 271.427 337.223 270.498 334.915C269.57 332.607 268.21 330.509 266.494 328.743C264.779 326.976 262.743 325.575 260.502 324.619C258.261 323.663 255.859 323.171 253.433 323.171Z"
          fill="white"
        />
        <path
          d="M319.93 344.098H312.541V351.707H308.847V344.098H301.459V340.293H308.847V332.683H312.541V340.293H319.93M310.694 323.171C308.269 323.171 305.867 323.663 303.626 324.619C301.385 325.575 299.348 326.976 297.633 328.743C294.169 332.311 292.223 337.15 292.223 342.195C292.223 347.241 294.169 352.08 297.633 355.647C299.348 357.414 301.385 358.815 303.626 359.771C305.867 360.727 308.269 361.22 310.694 361.22C315.593 361.22 320.291 359.215 323.756 355.647C327.22 352.08 329.166 347.241 329.166 342.195C329.166 339.697 328.688 337.223 327.76 334.915C326.831 332.607 325.471 330.509 323.756 328.743C322.04 326.976 320.004 325.575 317.763 324.619C315.522 323.663 313.12 323.171 310.694 323.171Z"
          fill="white"
        />
        <path
          d="M377.191 344.098H369.803V351.707H366.108V344.098H358.72V340.293H366.108V332.683H369.803V340.293H377.191M367.955 323.171C365.53 323.171 363.128 323.663 360.887 324.619C358.646 325.575 356.609 326.976 354.894 328.743C351.43 332.311 349.484 337.15 349.484 342.195C349.484 347.241 351.43 352.08 354.894 355.647C356.609 357.414 358.646 358.815 360.887 359.771C363.128 360.727 365.53 361.22 367.955 361.22C372.854 361.22 377.553 359.215 381.017 355.647C384.481 352.08 386.427 347.241 386.427 342.195C386.427 339.697 385.949 337.223 385.021 334.915C384.092 332.607 382.732 330.509 381.017 328.743C379.301 326.976 377.265 325.575 375.024 324.619C372.783 323.663 370.381 323.171 367.955 323.171Z"
          fill="white"
        />
      </svg>

      <WorkerLine model={model} />
      {components}
    </>
  );
}
