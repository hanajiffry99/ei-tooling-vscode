/**
 * Copyright (c) 2023, WSO2 LLC. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 */

import React from "react";
import { Circle } from "@wso2-ei/low-code-diagram";
import { getComponent } from "../../util";
import { WorkerLine } from "../worker-line";

interface SquareProps {
  model: Circle;
}

export function Property(props: SquareProps) {
  const { model } = props;

  const viewState = model.viewState;
  const components: JSX.Element[] = [];

  model.children.forEach((child) => {
    components.push(getComponent(child.type, { model: child }));
  });

  return (
    <>
      <svg
        x={viewState.bBox.x}
        y={viewState.bBox.y}
        width={viewState.bBox.r * 2}
        height={viewState.bBox.r * 2}
        viewBox="0 0 600 600"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle id="Ellipse 1" cx="300" cy="300" r="300" fill="#3D84B8" />
        <path
          id="Property"
          d="M219.528 523V493.909H231.006C233.212 493.909 235.092 494.33 236.645 495.173C238.198 496.007 239.382 497.167 240.196 498.653C241.02 500.131 241.432 501.835 241.432 503.767C241.432 505.699 241.015 507.403 240.182 508.881C239.348 510.358 238.141 511.509 236.56 512.332C234.988 513.156 233.084 513.568 230.849 513.568H223.534V508.639H229.855C231.039 508.639 232.014 508.436 232.781 508.028C233.558 507.612 234.135 507.039 234.514 506.31C234.902 505.571 235.097 504.723 235.097 503.767C235.097 502.801 234.902 501.958 234.514 501.239C234.135 500.509 233.558 499.946 232.781 499.548C232.005 499.141 231.02 498.938 229.827 498.938H225.679V523H219.528ZM245.313 523V501.182H251.18V504.989H251.407C251.805 503.634 252.472 502.612 253.41 501.92C254.347 501.22 255.427 500.869 256.648 500.869C256.951 500.869 257.278 500.888 257.629 500.926C257.979 500.964 258.287 501.016 258.552 501.082V506.452C258.268 506.366 257.875 506.291 257.373 506.224C256.871 506.158 256.412 506.125 255.995 506.125C255.105 506.125 254.309 506.319 253.609 506.707C252.917 507.086 252.368 507.616 251.961 508.298C251.563 508.98 251.364 509.766 251.364 510.656V523H245.313ZM270.523 523.426C268.316 523.426 266.408 522.957 264.798 522.02C263.198 521.073 261.962 519.757 261.091 518.071C260.22 516.376 259.784 514.411 259.784 512.176C259.784 509.922 260.22 507.953 261.091 506.267C261.962 504.572 263.198 503.256 264.798 502.318C266.408 501.371 268.316 500.898 270.523 500.898C272.729 500.898 274.633 501.371 276.233 502.318C277.843 503.256 279.083 504.572 279.955 506.267C280.826 507.953 281.261 509.922 281.261 512.176C281.261 514.411 280.826 516.376 279.955 518.071C279.083 519.757 277.843 521.073 276.233 522.02C274.633 522.957 272.729 523.426 270.523 523.426ZM270.551 518.739C271.555 518.739 272.393 518.455 273.065 517.886C273.738 517.309 274.244 516.523 274.585 515.528C274.936 514.534 275.111 513.402 275.111 512.134C275.111 510.865 274.936 509.733 274.585 508.739C274.244 507.744 273.738 506.958 273.065 506.381C272.393 505.803 271.555 505.514 270.551 505.514C269.538 505.514 268.686 505.803 267.994 506.381C267.313 506.958 266.796 507.744 266.446 508.739C266.105 509.733 265.935 510.865 265.935 512.134C265.935 513.402 266.105 514.534 266.446 515.528C266.796 516.523 267.313 517.309 267.994 517.886C268.686 518.455 269.538 518.739 270.551 518.739ZM285.196 531.182V501.182H291.162V504.847H291.432C291.697 504.259 292.08 503.663 292.582 503.057C293.094 502.441 293.757 501.93 294.571 501.523C295.395 501.106 296.418 500.898 297.639 500.898C299.23 500.898 300.698 501.314 302.043 502.148C303.387 502.972 304.462 504.217 305.267 505.884C306.072 507.541 306.474 509.619 306.474 512.119C306.474 514.553 306.081 516.608 305.295 518.284C304.519 519.951 303.458 521.215 302.114 522.077C300.778 522.929 299.282 523.355 297.625 523.355C296.451 523.355 295.452 523.161 294.628 522.773C293.813 522.384 293.146 521.897 292.625 521.31C292.104 520.713 291.706 520.112 291.432 519.506H291.247V531.182H285.196ZM291.119 512.091C291.119 513.388 291.299 514.52 291.659 515.486C292.019 516.452 292.54 517.205 293.222 517.744C293.903 518.275 294.732 518.54 295.707 518.54C296.692 518.54 297.526 518.27 298.207 517.73C298.889 517.181 299.405 516.423 299.756 515.457C300.116 514.482 300.295 513.36 300.295 512.091C300.295 510.831 300.12 509.723 299.77 508.767C299.42 507.811 298.903 507.062 298.222 506.523C297.54 505.983 296.702 505.713 295.707 505.713C294.723 505.713 293.889 505.973 293.207 506.494C292.535 507.015 292.019 507.754 291.659 508.71C291.299 509.667 291.119 510.794 291.119 512.091ZM320.452 523.426C318.207 523.426 316.276 522.972 314.656 522.062C313.046 521.144 311.806 519.847 310.935 518.17C310.063 516.485 309.628 514.491 309.628 512.19C309.628 509.946 310.063 507.976 310.935 506.281C311.806 504.586 313.032 503.265 314.614 502.318C316.205 501.371 318.07 500.898 320.21 500.898C321.65 500.898 322.99 501.13 324.23 501.594C325.48 502.048 326.569 502.735 327.497 503.653C328.435 504.572 329.164 505.727 329.685 507.119C330.205 508.502 330.466 510.121 330.466 511.977V513.639H312.043V509.889H324.77C324.77 509.018 324.58 508.246 324.202 507.574C323.823 506.902 323.297 506.376 322.625 505.997C321.962 505.609 321.19 505.415 320.31 505.415C319.391 505.415 318.577 505.628 317.866 506.054C317.166 506.471 316.616 507.034 316.219 507.744C315.821 508.445 315.617 509.226 315.608 510.088V513.653C315.608 514.733 315.807 515.666 316.205 516.452C316.612 517.238 317.185 517.844 317.923 518.27C318.662 518.696 319.538 518.909 320.551 518.909C321.223 518.909 321.839 518.814 322.398 518.625C322.956 518.436 323.435 518.152 323.832 517.773C324.23 517.394 324.533 516.93 324.741 516.381L330.338 516.75C330.054 518.095 329.472 519.269 328.591 520.273C327.72 521.267 326.593 522.044 325.21 522.602C323.837 523.152 322.251 523.426 320.452 523.426ZM334.415 523V501.182H340.281V504.989H340.509C340.906 503.634 341.574 502.612 342.511 501.92C343.449 501.22 344.528 500.869 345.75 500.869C346.053 500.869 346.38 500.888 346.73 500.926C347.08 500.964 347.388 501.016 347.653 501.082V506.452C347.369 506.366 346.976 506.291 346.474 506.224C345.973 506.158 345.513 506.125 345.097 506.125C344.206 506.125 343.411 506.319 342.71 506.707C342.019 507.086 341.47 507.616 341.062 508.298C340.665 508.98 340.466 509.766 340.466 510.656V523H334.415ZM363.481 501.182V505.727H350.342V501.182H363.481ZM353.325 495.955H359.376V516.295C359.376 516.854 359.461 517.29 359.631 517.602C359.802 517.905 360.039 518.118 360.342 518.241C360.654 518.365 361.014 518.426 361.421 518.426C361.705 518.426 361.989 518.402 362.273 518.355C362.558 518.298 362.775 518.256 362.927 518.227L363.879 522.73C363.576 522.825 363.149 522.934 362.6 523.057C362.051 523.189 361.383 523.27 360.597 523.298C359.139 523.355 357.861 523.161 356.762 522.716C355.673 522.271 354.826 521.58 354.219 520.642C353.613 519.705 353.315 518.521 353.325 517.091V495.955ZM371.158 531.182C370.391 531.182 369.672 531.12 368.999 530.997C368.336 530.884 367.787 530.737 367.352 530.557L368.715 526.04C369.425 526.258 370.065 526.376 370.633 526.395C371.21 526.414 371.708 526.281 372.124 525.997C372.55 525.713 372.896 525.23 373.161 524.548L373.516 523.625L365.69 501.182H372.053L376.57 517.205H376.798L381.357 501.182H387.763L379.283 525.358C378.876 526.532 378.322 527.555 377.621 528.426C376.93 529.307 376.054 529.984 374.994 530.457C373.933 530.94 372.655 531.182 371.158 531.182Z"
          fill="white"
        />
        <path
          id="Vector"
          d="M175.5 152C163.125 152 153 162.125 153 174.5C153 186.875 163.125 197 175.5 197C187.875 197 198 186.875 198 174.5C198 162.125 187.875 152 175.5 152ZM171 185.75L159.75 174.5L162.922 171.327L171 179.382L188.077 162.305L191.25 165.5L171 185.75Z"
          fill="white"
        />
        <path
          id="Vector_2"
          d="M175.5 245C163.125 245 153 255.125 153 267.5C153 279.875 163.125 290 175.5 290C187.875 290 198 279.875 198 267.5C198 255.125 187.875 245 175.5 245ZM171 278.75L159.75 267.5L162.922 264.327L171 272.382L188.077 255.305L191.25 258.5L171 278.75Z"
          fill="white"
        />
        <path
          id="Vector_3"
          d="M175.5 338C163.125 338 153 348.125 153 360.5C153 372.875 163.125 383 175.5 383C187.875 383 198 372.875 198 360.5C198 348.125 187.875 338 175.5 338ZM171 371.75L159.75 360.5L162.922 357.327L171 365.382L188.077 348.305L191.25 351.5L171 371.75Z"
          fill="white"
        />
        <rect
          id="Rectangle 1"
          x="222"
          y="152"
          width="240"
          height="45"
          rx="22.5"
          fill="white"
        />
        <rect
          id="Rectangle 2"
          x="222"
          y="245"
          width="240"
          height="45"
          rx="22.5"
          fill="white"
        />
        <rect
          id="Rectangle 3"
          x="222"
          y="338"
          width="240"
          height="45"
          rx="22.5"
          fill="white"
        />
      </svg>

      <WorkerLine model={model} />
      {components}
    </>
  );
}
